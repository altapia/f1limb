---
import ApuestasUsuario from '@/components/ApuestasUsuario.astro'
import type {Apuesta} from '@/lib/model'
import listApuestas from '@/content/01_bahrain/apuestas.json'
import {usuarios} from '@/lib/usuarios'

usuarios.forEach(u=>{
    let apuestasUsuario : Apuesta[] = (listApuestas as Apuesta[]).filter(a=> a.user.id === u.id)
    u.apuestas = apuestasUsuario
})
---

<section class="max-w-[40rem]">
    <h2 class="text-3xl font-bold text-center">Apuestas - GP Bahrain 2024</h2>
    <ul>
    {
        usuarios.map(u => (
            <li>
                <ApuestasUsuario usuario={u}/>
            </li>
        ))
    }
    </ul>
</section>